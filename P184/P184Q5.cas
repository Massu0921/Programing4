P184Q5	START
	RPUSH
	LD	GR1,=#1234	;16進数設定
	CALL	DISP
	RPOP
	RET
;
DISP	RPUSH
	LD	GR4,=3
LOOP	LD	GR2,GR1		;コピー
	AND	GR2,=#000F	;下位4bit
	LD	GR3,HEX,GR2	;変換
	ST	GR3,DATA,GR4	;格納
	SRL	GR1,4		;右シフト
	SUBL	GR4,=1
	CPA	GR4,=-1		;ループ判定
	JNZ	LOOP
	OUT	DATA,LEN	;出力
	RPOP
	RET
;
DATA	DS	4
LEN	DC	4
HEX	DC	'0123456789ABCDEF'
	END